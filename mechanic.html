<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mechanic Registration</title>
    <style>
       /* General Styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
    }

    body {
        background: #f4f4f4;
        color: #333;
        font-size: 16px;
        line-height: 1.6;
    }

    /* Services Section */
    #services {
        background: url("mechanic.jpg") no-repeat center center/cover;
        background-size: cover;
        padding: 50px 10%;
        text-align: center;
        position: relative;
    }

    /* Overlay to create transparency effect */
    #services::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.4); /* Semi-transparent overlay */
        z-index: -1;
    }

    #services h2 {
        font-size: 32px;
        font-weight: 600;
        margin-bottom: 30px;
        color: #fff;
    }

    .form-container {
        background-color: rgba(255, 255, 255, 0.501); /* White with transparency */
        border-radius: 8px;
        padding: 40px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        margin: 0 auto;
    }

    /* Form Input Styles */
    .form-container form div {
        margin-bottom: 20px;
        text-align: left;
    }

    .form-container label {
        font-size: 18px;
        color: #333;
        margin-bottom: 5px;
        display: block;
    }

    .form-container input[type="text"], 
    .form-container input[type="file"] {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #ddd;
        font-size: 16px;
        color: #333;
    }

    .form-container input[type="file"] {
        padding: 8px;
    }

    .form-container input[type="text"]:focus, 
    .form-container input[type="file"]:focus {
        outline: none;
        border-color: #ff6600;
        box-shadow: 0 0 5px rgba(255, 102, 0, 0.5);
    }

    /* Submit Button Styles */
    .form-container button {
        width: 100%;
        padding: 14px;
        background-color: #ff6600;
        color: white;
        font-size: 18px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    .form-container button:hover {
        background-color: #e65c00;
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
        #services {
            padding: 50px 5%;
        }

        .form-container {
            padding: 30px;
        }

        .form-container h2 {
            font-size: 28px;
        }

        .form-container label {
            font-size: 16px;
        }

        .form-container input[type="text"],
        .form-container input[type="file"],
        .form-container button {
            font-size: 16px;
        }
    }
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
        }
        #terms-section {
    background: #f9f9f9;
    padding: 20px;
    margin: 4px;
    border: 1px solid #ddd;
    border-radius: 8px;
    max-height: 300px; /* Limit the height to make it scrollable */
    overflow-y: auto; /* Enable vertical scrolling */
}

        #terms-section h3 {
            margin-bottom: 10px;
            font-size: 20px;
            color: #333;
        }
        #terms-section p {
            margin-bottom: 10px;
        }
        .form-container button {
            margin-top: 20px;
        }
        #success-popup {
    animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

@keyframes fadein {
    from {opacity: 0;}
    to {opacity: 1;}
}

@keyframes fadeout {
    from {opacity: 1;}
    to {opacity: 0;}
}

    </style>
</head>
<body>
    <!-- Services Section (Mechanic Registration Form) -->
    <section id="services" class="services">
        <h2>Mechanic Registration</h2>
        <div class="form-container">
            <form id="mechanic-form" enctype="multipart/form-data">
                <div>
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
            
                <div>
                    <label for="mobile">Mobile:</label>
                    <input type="text" id="mobile" name="mobile" required>
                </div>
            
                <div>
                    <label for="address">Address:</label>
                    <input type="text" id="address" name="address" required>
                </div>
            
                <div>
                    <label for="shop-image">Shop Image (Banner):</label>
                    <input type="file" id="shop-image" name="shop_image" required>
                </div>
            
                <div>
                    <label for="specialization">Specialization:(e.g., Tire Repair, Engine, etc.)</label>
                    <input type="text" id="specialization" name="specialization" required>
                </div>
                <!-- Full Terms and Conditions Section -->
                <div id="terms-section">
                    <h3>Terms and Conditions</h3>
                    <p><strong>1. Eligibility:</strong> The applicant must be 18 years of age or older.</p>
                    <p><strong>2. Accurate Information:</strong> All details provided during registration must be accurate and up to date. Submission of false or misleading information may result in rejection or termination of registration.</p>
                    <p><strong>3. Document Submission:</strong> All required documents such as identity proof, address proof, and shop ownership/lease agreements must be submitted during the registration process.</p>
                    <p><strong>4. Use of Information:</strong> The information submitted will be stored securely and used only for verification, service-related communication, and creating your public profile within the platform. Personal data will not be shared with third parties without consent, except as required by law.</p>
                    <p><strong>5. Responsibilities:</strong> Registered mechanics are responsible for providing quality services to customers and maintaining professional conduct. It is the mechanic’s responsibility to update any changes to their contact details, service offerings, or other relevant information.</p>
                    <p><strong>6. Compliance:</strong> All mechanics must comply with local laws, regulations, and guidelines related to vehicle repair and services. Failure to adhere to legal or ethical standards may result in the suspension or cancellation of the mechanic’s registration.</p>
                    <p><strong>7. Shop Ownership/Usage:</strong> The mechanic must own or have valid permission to operate the shop premises mentioned in the registration form. The shop's image (submitted during registration) must genuinely represent the operational location.</p>
                    <p><strong>8. Indemnification:</strong> The platform/company facilitating the mechanic registration shall not be held liable for any disputes, accidents, or damages caused by the mechanic’s services. The mechanic agrees to indemnify the platform/company for any losses incurred due to negligence or malpractice on the mechanic’s part.</p>
                    <p><strong>9. Termination of Registration:</strong> The platform/company reserves the right to terminate or suspend a mechanic’s registration at its sole discretion, including but not limited to:
                        <ul>
                            <li>Violation of terms and conditions.</li>
                            <li>Repeated complaints or poor service quality.</li>
                            <li>Submission of fraudulent documents or information.</li>
                        </ul>
                    </p>
                    <p><strong>10. Amendments:</strong> The platform/company reserves the right to modify these terms and conditions at any time. Mechanics will be notified of any significant changes.</p>
                    <p><strong>11. Acceptance:</strong> By completing the registration, the mechanic agrees to abide by these terms and conditions.</p>
                </div>
                <div>
                    <input type="checkbox" id="accept-terms" name="accept_terms" required>
                    <label for="accept-terms">I agree to the Terms and Conditions</label>
                </div>
            
                <button type="submit">Submit Registration</button>
                <div class="signup">if you already have an account<a href="login.html">login</a></div>
            </form>
            
            <div id="success-popup" style="display: none;">Registration Successful!</div>
            
        <script>
document.getElementById('mechanic-form').addEventListener('submit', async (e) => {
    e.preventDefault(); // Prevent page reload

    const formData = new FormData(e.target);

    try {
        const response = await fetch("http://localhost:4000/register-mechanic", {
            method: "POST",
            body: formData
        });

        const result = await response.json();
        if (result.success) {
            showSuccessPopup();
        } else {
            alert("Registration failed. Please try again.");
        }
    } catch (error) {
        console.error("Error:", error);
        alert("Server error. Please try again later.");
    }
});

function showSuccessPopup() {
    const popup = document.getElementById("success-popup");
    popup.style.display = "block";

    setTimeout(() => popup.style.display = "none", 3000);
}
</script>
        
    </section>
</body>
</html>
